### 文件同步的基本概念

这里专门指文件的同步，是区别于数据库的同步，因为数据库同步还涉及到数据间逻辑的问题。

* **源文件和目标文件**

同步肯定涉及到以哪一方文件为基准的问题。一般来说，有两种情形：一是让远程主机文件与本地主机文件保持同步，这是以本地主机主机文件为基准，二是让本地主机文件与远程主机文件保持同步，这是以远程主机文件为基准。我们一般把基准主机当做服务端，把和其保持同步的主机当做服务端。因为，服务端需要有外网ip，客服端才能向其拉取文件同步。

* **文件同步过程涉及到如何比较文件的问题，有点类似版本控制系统。**

1：删除，当基准主机上的文件进行了删除，那么和其同步的机器上该文件也要删除

2：增加，当基准主机上增加了文件，那么和其同步的机器上也要增加该文件

3：修改，当基准主机上修改了某文件，那么和其同步的机器也要修改该文件

这就需要在基准主机上运行一个守护进行（daemon）来监视，记录这些改动，以便客户机能根据这些改动来同步。

* **同步的时机**

1：定时执行，例如每天晚上或者每周

2：实时同步，当基准文件发生改变的，自动触发同步。

